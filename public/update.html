<!DOCTYPE html>
<html>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/superagent/3.8.3/superagent.min.js"></script>

<body>

    <main role="main" class="container" style="margin-top:20px">

        <h1>Update Post</h1>
        <form id="updateForm">
            <label for="postId">Post ID:</label>
            <input type="number" id="postid" name="postid" required >
            <label for="published">Published:</label>
            <select id="published" name="published" required>
                <option value="true">True</option>
                <option value="false">False</option>
            </select>
            <button type="button" class="btn btn-primary" id="updateButton">Update Status</button>    
        </form>
       
    </main>

</body>
<script>

    document.getElementById('updateButton').addEventListener('click', function(event){
        event.preventDefault();
        // Obetener el valor del ID del formulario
        var postId = document.getElementById('postid').value;
        // Obtener el valor del estado publicado del formulario
        var published = document.getElementById('published').value;
        // Construir la URL de la solicitud GET para actualizar el estado publicado
        var url = `/published/${postId}/${published}`;
        // Realizar la solicitud utilizando SuperAgent
        superagent
            .get(url)
            .end(function(err,res){
                if(err){
                    console.log(err);
                }
                else{
                    console.log(res.text);
                }
            });
    });

</script>
</html>
